@{
    ViewData["Title"] = "Plan Beneficio";
    Layout = "~/Views/Shared/_Layout.cshtml";   
}
<partial name="Partials/_ControlesPartial" model="@(ControlesVistas.VistaPlanBeneficio)" />

<ul class="nav nav-tabs" id="tabPlanBeneficio" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="Lista-tab" href="#listar" data-toggle="tab" role="tab">Planes</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="Datos-tab" href="#Datos" data-toggle="tab" role="tab">Datos de Plan</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="Configuracion-tab" href="#Configuracion" data-toggle="tab" role="tab">Config. Versión</a>
    </li>
</ul>
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active mt-3" id="listar" role="tabpanel">
        <partial name="Partials/_ListaPlanBeneficio" />
    </div>
    <div class="tab-pane fade" id="Datos" role="tabpanel">
        <partial name="Partials/_AgregarPlanBeneficio" />
    </div>
    <div class="tab-pane fade" id="Configuracion" role="tabpanel">
        @*<partial name="Partials/_Configuracion" />*@
        <div class="card border-right border-bottom border-left">
            <div class="card-header bg-white">
                <div class="row">
                    <div class="col-5">
                        <div class="form-row">
                            <div class="col-12">
                                <h6><label class="font-weight-bold mb-0">Descripción Plan</label></h6>
                            </div>
                            <div class="col-12">
                                <h7><label id="lblPlanDscrpcn" class="font-weight-bold text-muted text-right mb-0">1</label></h7>
                            </div>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="form-row">
                            <div class="col">
                                <h6><label class="font-weight-bold mb-0">Versión</label></h6>
                            </div>
                            <div class="col text-right">
                                <h7><label id="lblVersionDscrpcn" class="font-weight-bold text-muted text-right mb-0"></label></h7>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body p-0 mt-3">
                <div class="container">
                    <ul class="nav nav-pills" id="tabConfiguracion">
                        <li class="nav-item">
                            <a class="nav-link active py-1 px-3 mr-1" id="listaBeneficios-tab" href="#listaBeneficios" data-toggle="tab" role="tab">Beneficios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-1 px-3 mr-1" id="copago-tab" href="#copago" data-toggle="tab" role="tab">Copago</a>
                        </li>
                        <li class="nav-item d-none">
                            <a class="nav-link py-1 px-3 mr-1" id="configuracionBeneficio-tab" href="#configuracionBeneficio" data-toggle="tab" role="tab">Configuración</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-1 px-3" id="costoEtario-tab" href="#costoEtario" data-toggle="tab" role="tab">Costo Etario</a>
                        </li>
                    </ul>
                    <hr class="dropdown-divider mb-2">
                    <div class="tab-content" id="Configuracion-tabContent">
                        <div class="tab-pane fade show active" id="listaBeneficios" role="tabpanel">
                            <form id="frmConfiguracionDet" autocomplete="off">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-lg-6  pt-2">
                                            <h5>Beneficios</h5>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-row">
                                                <div class="col-lg-7 offset-md-5 text-right">
                                                    <button type="button" id="btnNuBeneficio" class="btn btn-primary btn-xs"><i class="fa fa-plus mr-1"></i>Nuevo Beneficio</button>
                                                    <button type="button" id="btnGuBeneficio" class="btn btn-primary btn-xs"><i class="fa fa-save mr-1"></i>Guardar</button>
                                                    <button type="button" id="btnCanBeneficio" class="btn btn-secondary btn-xs"><i class="fa fa-ban mr-1"></i>Cancelar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="dropdown-divider bg-warning border-bottom border-warning mt-1">
                                    <div class="form-row">
                                        <div class="col-lg-4">
                                            <div class="form-row form-group">
                                                <div class="col-lg-6">
                                                    <span>Ind. Benef. Adicional</span>
                                                    <select id="cboIndBenefAdicional" name="cboIndBenefAdicional" class="form-control form-control-sm" disabled="disabled"></select>
                                                </div>
                                                <div class="col-lg-6">
                                                    <span>Aport. Requeridas</span>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" id="txtAportRequeridas" name="txtAportRequeridas" class="form-control form-control-sm text-right pr-1 solonumeros" min="0" placeholder="0">
                                                        <input type="text" name="txtAportRequeridasCantidad" class="form-control form-control-sm text-left disabled" readonly="readonly" placeholder="Cantidad">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row form-group">
                                                <div class="col-lg-2">
                                                    <span>Cód.</span>
                                                    <input type="hidden" id="hfIDBenef" />
                                                    <input type="text" id="txtIdBeneficio" name="txtIdBeneficio" class="form-control form-control-sm text-right disabled" readonly="readonly">
                                                </div>
                                                <div class="col-lg-10">
                                                    <span>Beneficio</span>
                                                    <div class="input-group input-group-sm">
                                                        <input type="hidden" id="hfNombreBenef" />
                                                        <input type="text" id="txtBeneficio" name="txtBeneficio" class="form-control form-control-sm disabled" readonly="readonly">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-secondary px-2 form-control-sm" type="button" id="btnmdlCodBeneficio" data-toggle="modal" data-target="#mdlBuscarCodBeneficio" disabled="disabled">
                                                                <i class="fa fa-search "></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-row form-group">
                                                <div class="col-lg-4">
                                                    <span>Lím. Anual x Persona</span>
                                                    <input type="number" id="txtLimAnualxPersona" name="txtLimAnualxPersona" class="form-control form-control-sm text-right pr-1 numeroDecimal" min="0" max="999999" step="0.01" maxlength="7" placeholder="0.00">
                                                </div>
                                                <div class="col-lg-4">
                                                    <span>Carencia</span>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" id="txtConfigCarencia" name="txtConfigCarencia" class="form-control form-control-sm text-right pr-1 solonumeros" min="0" step="1" placeholder="0">
                                                        <input type="text" name="txtConfigCarenciaMeses" class="form-control form-control-sm text-right disabled" readonly="readonly" placeholder="Meses">
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <span>Lím. Cobertura</span>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" id="txtConfigCobertura" name="txtConfigCobertura" class="form-control form-control-sm text-right pr-1 solonumeros" min="0" max="115" step="1" placeholder="0">
                                                        <input type="text" name="txtConfigCoberturaEdad" class="form-control form-control-sm text-right disabled" readonly="readonly" placeholder="Edad">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row form-group">
                                                <div class="col-lg-12">
                                                    <span>Observación</span>
                                                    <input type="text" id="txtObservacion" name="txtObservacion" class="form-control form-control-sm text-uppercase alfaNumCharEsp" maxlength="150">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2">
                                            <div class="form-row form-group">
                                                <span>Parent. = Benef.</span>
                                                <select id="cboParentescobeneficio" name="cboParentescobeneficio" class="form-control form-control-sm" disabled="disabled"></select>
                                            </div>
                                            <div class="form-row form-group">
                                                <span>Gasto Igual benef.</span>
                                                <select id="cboGastoIBeneficio" name="cboGastoIBeneficio" class="form-control form-control-sm" disabled="disabled"></select>
                                            </div>
                                        </div>
                                    </div>
                                    <partial name="/Views/Shared/Partials/_AuditoriaPartial2.cshtml" />
                                    <div class="row">
                                        <div class="col-12">
                                            <table id="dtBeneficios" class="table table-striped table-bordered"></table>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </div>
                        <div class="tab-pane fade show d-none" id="configuracionBeneficio" role="tabpanel">
                            
                        </div>
                        <div class="tab-pane fade show" id="copago" role="tabpanel">
                            <partial name="Partials/_Copago" />
                        </div>
                        <div class="tab-pane fade" id="costoEtario" role="tabpanel">
                            <partial name="Partials/_CostoEtario" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
     </div>
</div>
<input type="hidden" id="hfactionPlanBeneficio" />
<input type="hidden" id="hfBeneficio" />

<input type="hidden" id="hfIdBeneficiosPB" />
<input type="hidden" id="hfactionCEtario" />
<partial name="Partials/_ModalBeneficio" />
<partial name="Partials/_ModalRedes" />

@section Scripts{
    <script asp-append-version="true" src="~/js/views/PlanBeneficio/Index.js"></script>
}

